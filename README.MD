# PAYGATE PAYMENTS 

### Paygate payments para javascript


## Empezando

## C贸mo instalarlo

### Con npm

```sh
npm i @clinpays/paygate
```

```js
const { configure_ecommerce } = require('@clinpays/paygate');

await configure_ecommerce(id, token);

// Activar el debugger
debug(true);

//Objeto con los campos requeridos por el m茅todo
const payload = {
  'cvv': '',
  'email': '',
  'amount': '',
  'lastName': '',
  'validThru': '',
  'firstName': '',
  'description': '',
  'mobilePhone': '',
  'billingCity': '',
  'customerName': '',
  'billingState': '',
  'safeIdentifier': '',
  'billingAddress1': '',
  'billingCountryCode': '',
};

const result = await payOrder(payload);

```

### Utilidades
```js
//Obtener listado de pa铆ses y estados/departamentos disponibles
const countriesAndStates = await Paygate.getCountriesAndStates();

```

## M茅todos

### Paygate.configure_ecommerce(id, token, endpoint)

Configurar la cuenta con las credenciales correspondientes para poder realizar cobros.

| Parametro | Descripci贸n                  | Tipo | Requerido |
|-----------|------------------------------| ------ |-----------|
| id        | ID del comercio              |string | S铆        |
| token     | Token del comercio           |string | S铆        |
| endpoint  | Url para consultar servicios | string | No        |

### Paygate.debug(true)

Visualizar los registros de log de los procesos de pago.

| Parametro | Descripci贸n | Tipo |
| ------ | ------  | ------ |
| true - false | Visualizar en la consola los registros de log que genera el/los procesos. | boolean

### Paygate.payOrder(payload)
Valida si cuenta con los servicios 3DS y si es as铆 valida la autenticaci贸n del tarjetahabiente y procede a realizar el cobo a la tarjeta

payload request (object)

#### Datos personales

| Parametro | Descripci贸n | Tipo |  Requerido |
| ------ | ------  | ------ |  ------ |
| email | Correo electr贸nico del cliente | string | C |
| mobilePhone | N煤mero telef贸nico del cliente | string | C |
| customerName | Nombre del cliente | string | C |

#### Datos de la tarjeta
| Parametro | Descripci贸n | Tipo |  Requerido | Formato
| ------ | ------  | ------ |  ------ | ------ |
| cvv | C贸digo de la tarjeta | string | S铆 | 999 |
| firstName |  Nombre del tarjetahabiente| string | S铆 | Jorge |
| lastName | Apellido del tarjetahabiente| string | S铆 | Santos |
| validThru | Fecha de expiraci贸n del tarjetahabiente | string | S铆 | 12/24 |
| safeIdentifier | El PAM de la tarjeta | string | S铆 |  1234567891234567 |

#### Detalle del pago
| Parametro | Descripci贸n | Tipo |  Requerido | Formato
| ------ | ------  | ------ |  ------ |  ------
| amount | Total a cobrar | number | S铆 | 20.50
| referenceId | Referencia 煤nica del la orden | string | S铆 | ABCDFG-1010 |
| description | Descripci贸n de la orden | string | S铆 | Pago de ejemplo |
| orderNumber | N煤mero 煤nico de orden | string | S铆 | 100000000 |

### Facturaci贸n
| Parametro | Descripci贸n | Tipo |  Requerido | Especificaci贸n | Formato
| ------ | ------  | ------ |  ------ |------ | ------ |
| billingCity | Estado o provincia de facturaci贸n | string | C | - | Tegucigalpa
| billingState | Ciudad de factuaci贸n | string | C | ISO 3166-2 code | FM
| billingAddress1 | Direcci贸n de facturaci贸n | string | C | - | Barrio Los Hermanos
| billingCountryCode | Pa铆s de factuaci贸n | string | C | ISO 3166 - Numeric code | 340



